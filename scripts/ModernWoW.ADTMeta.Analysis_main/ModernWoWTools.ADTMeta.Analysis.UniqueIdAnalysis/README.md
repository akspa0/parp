# ADT UniqueID Analyzer

This tool analyzes the unique IDs found in ADT files to identify patterns and potential time-based clusters. It works with the JSON output files generated by the existing ADTAnalyzer tool, so there's no need to modify the original code.

## Purpose

The UniqueID Analyzer helps to:

1. Identify clusters of UniqueIDs that might correspond to specific time periods during development
2. Group ADT files by their UniqueID patterns
3. Visualize when assets were placed on the maps based on UniqueID ranges
4. Create a historical record of map development without modifying the existing analysis tools

## Requirements

- .NET 8 SDK
- EPPlus library (included in project references)
- System.Text.Json (included in project references)

## How It Works

The tool:

1. Reads JSON result files produced by the existing ADTAnalyzer
2. Extracts UniqueID data from each ADT file
3. Identifies clusters of IDs that are close together and likely added during the same time period
4. Analyzes patterns both within individual maps and across all maps
5. Generates detailed reports in both text and Excel formats for further analysis

## Building the Tool

```bash
# Navigate to the project directory
cd UniqueIdAnalyzer

# Build the project
dotnet build

# Run the tool
dotnet run
```

## Running the Tool

You can run the tool with command-line arguments:

```bash
dotnet run <results_directory> <output_directory> [cluster_threshold] [gap_threshold]
```

Parameters:

- `results_directory`: Directory containing JSON results from ADT analysis
- `output_directory`: Directory to write analysis results to
- `cluster_threshold` (optional): Minimum number of IDs to form a cluster (default: 10)
- `gap_threshold` (optional): Maximum gap between IDs to be considered part of the same cluster (default: 1000)

If run without parameters, the tool will prompt for the needed information.

## Report Contents

The tool generates two types of reports:

### Text Report

A detailed text report (`unique_id_analysis.txt`) containing:

- Global clusters across all maps
- Per-map clusters with detailed statistics
- Individual ADT file data with ID ranges and counts

### Excel Report

A comprehensive Excel workbook (`unique_id_analysis.xlsx`) with multiple sheets:

1. **Global Clusters**: Clusters identified across all maps
2. **Map Clusters**: Clusters specific to individual maps
3. **ADT Data**: Detailed information about each ADT file
4. **ID Distribution**: Histogram of ID distribution to visualize patterns
5. **Asset Distribution**: Assets grouped by cluster and type
6. **Detailed Assets**: Complete asset listing with earliest appearance information

## Understanding the Results

### Clusters

The tool identifies clusters of IDs based on:

- **Cluster Threshold**: Minimum number of IDs needed to consider a group a "cluster"
- **Gap Threshold**: Maximum gap between consecutive IDs to be considered part of the same cluster

A cluster represents a group of IDs that were likely added during the same time period.

### Metrics Explained

For each cluster, the tool calculates:

- **ID Count**: Number of unique IDs in the cluster
- **ID Span**: Range between the minimum and maximum ID (Max ID - Min ID + 1)
- **Density**: Ratio of actual IDs to the theoretical maximum in the range (Count/Span)
  - Higher density suggests continuous development during that period
  - Lower density suggests sporadic additions with gaps

## Identifying Time Periods

To correlate clusters with actual time periods:

1. Review the global clusters first to identify major development phases
2. Cross-reference your notes about development timelines with the cluster ranges
3. Look for patterns in the map-specific clusters
4. Use the density metric to determine intensity of development in each period

## Future Enhancements

Potential improvements:

- Timeline visualization of UniqueID distributions
- Correlation analysis between maps
- Integration with manual timeline annotations
- Interactive visualization of ID distributions on maps

## License

This tool is provided as-is under the same licensing terms as the original ADTAnalyzer.
